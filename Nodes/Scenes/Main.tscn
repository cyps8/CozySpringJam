[gd_scene load_steps=24 format=3 uid="uid://c3ckeg1704ygg"]

[ext_resource type="Script" path="res://Scripts/Root.gd" id="1_wryjm"]
[ext_resource type="Script" path="res://Scripts/Game.gd" id="2_k4ite"]
[ext_resource type="Theme" uid="uid://jxo2j54d0arj" path="res://Resources/MainTheme.tres" id="2_vjmxk"]
[ext_resource type="PackedScene" uid="uid://d0srgmut0o264" path="res://Nodes/plant_pot.tscn" id="3_dha6k"]
[ext_resource type="PackedScene" uid="uid://duq17yn88lsoy" path="res://Nodes/plant_pot_2.tscn" id="4_mg7d6"]
[ext_resource type="PackedScene" uid="uid://cfh3s0kbq468s" path="res://Nodes/plant_pot_3.tscn" id="5_0r67b"]
[ext_resource type="Script" path="res://Scripts/Table.gd" id="6_0ocbx"]
[ext_resource type="PackedScene" uid="uid://dqm25royj5d56" path="res://Nodes/plant_pot_4.tscn" id="6_77l7h"]
[ext_resource type="Texture2D" uid="uid://d2238qg8td0td" path="res://Assets/Art/scene.png" id="8_bvwbh"]
[ext_resource type="PackedScene" uid="uid://b38oiqsc4vjwy" path="res://Nodes/plant.tscn" id="10_dlinh"]
[ext_resource type="Texture2D" uid="uid://dgcu4yyo4as0" path="res://Assets/Art/Dummies/fertilizer.png" id="10_n4ued"]
[ext_resource type="Texture2D" uid="uid://biwnsr02664kt" path="res://Assets/Art/Dummies/watercan.png" id="11_bmpav"]
[ext_resource type="Script" path="res://Scripts/WateringCan.gd" id="11_iqlia"]
[ext_resource type="Script" path="res://Scripts/Customers.gd" id="13_sfrjq"]
[ext_resource type="Resource" uid="uid://ct86j1prlrcf4" path="res://Resources/Requests/test.tres" id="14_4lit3"]
[ext_resource type="PackedScene" uid="uid://cu8nhynctn34o" path="res://Nodes/customer.tscn" id="15_shs8v"]

[sub_resource type="Gradient" id="Gradient_d3rph"]
offsets = PackedFloat32Array(0.603896, 0.62987, 0.662338)
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_1sfet"]
gradient = SubResource("Gradient_d3rph")
width = 128
height = 128
fill = 1
fill_from = Vector2(0.5, 0.5)

[sub_resource type="Gradient" id="Gradient_urfne"]
offsets = PackedFloat32Array(0)
colors = PackedColorArray(0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_a4bht"]
gradient = SubResource("Gradient_urfne")
width = 6
height = 34

[sub_resource type="Gradient" id="Gradient_duyoe"]
offsets = PackedFloat32Array(0)
colors = PackedColorArray(0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_hdch2"]
gradient = SubResource("Gradient_duyoe")
width = 4
height = 52

[sub_resource type="CircleShape2D" id="CircleShape2D_qcrin"]
radius = 51.6236

[node name="Main" type="Node"]
process_mode = 3
script = ExtResource("1_wryjm")

[node name="Game" type="CanvasLayer" parent="."]
process_mode = 1
layer = -1
script = ExtResource("2_k4ite")
potIns = Array[PackedScene]([ExtResource("3_dha6k"), ExtResource("4_mg7d6"), ExtResource("5_0r67b"), ExtResource("6_77l7h")])
plantIns = Array[PackedScene]([ExtResource("10_dlinh")])

[node name="Background" type="Sprite2D" parent="Game"]
position = Vector2(960, 540)
texture = ExtResource("8_bvwbh")

[node name="Day" type="Label" parent="Game"]
offset_left = 193.0
offset_top = 15.0
offset_right = 305.0
offset_bottom = 70.0
theme_override_colors/font_shadow_color = Color(0, 0, 0, 0.439216)
theme_override_constants/shadow_offset_x = 2
theme_override_constants/shadow_offset_y = 2
theme_override_constants/shadow_outline_size = 10
theme_override_font_sizes/font_size = 40
text = "DAY 1"

[node name="Clock" type="Sprite2D" parent="Game"]
position = Vector2(224, 246)
texture = SubResource("GradientTexture2D_1sfet")

[node name="Hour" type="Sprite2D" parent="Game/Clock"]
texture = SubResource("GradientTexture2D_a4bht")
offset = Vector2(0, -14)

[node name="Minute" type="Sprite2D" parent="Game/Clock"]
texture = SubResource("GradientTexture2D_hdch2")
offset = Vector2(0, -24)

[node name="Fertilizer" type="Sprite2D" parent="Game"]
position = Vector2(1221, 331)
scale = Vector2(0.505525, 0.504808)
texture = ExtResource("10_n4ued")

[node name="Fertilizer2" type="Sprite2D" parent="Game"]
position = Vector2(1312, 334)
scale = Vector2(0.505525, 0.504808)
texture = ExtResource("10_n4ued")

[node name="Control" type="Control" parent="Game"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("2_vjmxk")

[node name="Pot1" type="Button" parent="Game/Control"]
layout_mode = 0
offset_left = 1046.0
offset_top = 80.0
offset_right = 1175.0
offset_bottom = 200.0
text = "POT1"

[node name="Pot5" type="Button" parent="Game/Control"]
layout_mode = 0
offset_left = 1174.0
offset_top = 391.0
offset_right = 1277.0
offset_bottom = 451.0
text = "SEED1"

[node name="Pot2" type="Button" parent="Game/Control"]
layout_mode = 0
offset_left = 1192.0
offset_top = 76.0
offset_right = 1321.0
offset_bottom = 196.0
text = "POT2"

[node name="Pot3" type="Button" parent="Game/Control"]
layout_mode = 0
offset_left = 1341.0
offset_top = 76.0
offset_right = 1470.0
offset_bottom = 196.0
text = "POT3"

[node name="Pot4" type="Button" parent="Game/Control"]
layout_mode = 0
offset_left = 1491.0
offset_top = 80.0
offset_right = 1620.0
offset_bottom = 200.0
text = "POT4"

[node name="Button" type="Button" parent="Game/Control"]
layout_mode = 0
offset_left = 22.0
offset_top = 13.0
offset_right = 140.0
offset_bottom = 106.0
text = "PAUSE"

[node name="WateringCan" type="TextureButton" parent="Game/Control"]
self_modulate = Color(1, 1, 1, 0)
layout_mode = 0
offset_left = 1095.0
offset_top = 495.0
offset_right = 1465.0
offset_bottom = 915.0
pivot_offset = Vector2(185, 210)
texture_normal = ExtResource("11_bmpav")
stretch_mode = 4
script = ExtResource("11_iqlia")

[node name="Water" type="Area2D" parent="Game/Control/WateringCan"]
position = Vector2(205, 205)

[node name="Shape" type="CollisionShape2D" parent="Game/Control/WateringCan/Water"]
shape = SubResource("CircleShape2D_qcrin")

[node name="Sprite2D" type="Sprite2D" parent="Game/Control/WateringCan"]
position = Vector2(211, 207)
scale = Vector2(0.3, 0.3)
texture = ExtResource("11_bmpav")

[node name="Customers" type="Control" parent="Game/Control"]
anchors_preset = 0
offset_left = 9.0
offset_top = 187.0
offset_right = 538.0
offset_bottom = 739.0
script = ExtResource("13_sfrjq")
requests = Array[Resource("res://Scripts/Request.gd")]([ExtResource("14_4lit3")])
customer = ExtResource("15_shs8v")

[node name="SortedObjects" type="Node2D" parent="Game"]

[node name="Table" type="Area2D" parent="." groups=["Table"]]
script = ExtResource("6_0ocbx")
depthBack = 0.6

[node name="poly" type="CollisionPolygon2D" parent="Table"]
position = Vector2(-16, 85)
polygon = PackedVector2Array(-71, 846, 1968, 849, 1959, 715, 155, 715)

[node name="LightTable" type="Area2D" parent="." groups=["Table"]]
script = ExtResource("6_0ocbx")
depthFront = 0.9
depthBack = 0.95

[node name="poly" type="CollisionPolygon2D" parent="LightTable"]
position = Vector2(93, -203)
polygon = PackedVector2Array(290, 941, 922, 947, 843, 887, 386, 887)

[node name="LightTable2" type="Area2D" parent="." groups=["Table"]]
script = ExtResource("6_0ocbx")
depthFront = 0.9
depthBack = 0.95

[node name="poly" type="CollisionPolygon2D" parent="LightTable2"]
position = Vector2(80, -450)
polygon = PackedVector2Array(349, 930, 879, 931, 868, 902, 403, 903)

[node name="NightTable" type="Area2D" parent="." groups=["Table"]]
script = ExtResource("6_0ocbx")
depthFront = 0.9
depthBack = 0.95

[node name="poly" type="CollisionPolygon2D" parent="NightTable"]
position = Vector2(1077, -375)
polygon = PackedVector2Array(446, 951, 724, 951, 627, 929, 443, 930)

[node name="WaterTable" type="Area2D" parent="." groups=["Table"]]
position = Vector2(-420, 230)
script = ExtResource("6_0ocbx")
depthFront = 0.9
depthBack = 0.95

[node name="poly" type="CollisionPolygon2D" parent="WaterTable"]
position = Vector2(1080, -363)
polygon = PackedVector2Array(522, 913, 795, 913, 746, 864, 519, 866)

[node name="NightTable2" type="Area2D" parent="." groups=["Table"]]
script = ExtResource("6_0ocbx")
depthFront = 0.9
depthBack = 0.95

[node name="poly" type="CollisionPolygon2D" parent="NightTable2"]
position = Vector2(1068, -129)
polygon = PackedVector2Array(458, 907, 735, 906, 636, 857, 453, 863)

[node name="Pause" type="CanvasLayer" parent="."]
layer = 10
visible = false

[node name="ColorRect" type="ColorRect" parent="Pause"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.223529)

[node name="Panel" type="Panel" parent="Pause"]
offset_left = 786.0
offset_top = 307.0
offset_right = 1091.0
offset_bottom = 758.0

[node name="Button" type="Button" parent="Pause/Panel"]
layout_mode = 0
offset_left = 31.0
offset_top = 25.0
offset_right = 270.0
offset_bottom = 107.0
text = "RESUME"

[connection signal="button_down" from="Game/Control/Pot1" to="Game" method="SpawnPot" binds= [0]]
[connection signal="button_down" from="Game/Control/Pot5" to="Game" method="SpawnPlant" binds= [0]]
[connection signal="button_down" from="Game/Control/Pot2" to="Game" method="SpawnPot" binds= [1]]
[connection signal="button_down" from="Game/Control/Pot3" to="Game" method="SpawnPot" binds= [2]]
[connection signal="button_down" from="Game/Control/Pot4" to="Game" method="SpawnPot" binds= [3]]
[connection signal="pressed" from="Game/Control/Button" to="." method="TogglePause"]
[connection signal="button_down" from="Game/Control/WateringCan" to="Game/Control/WateringCan" method="Pickup"]
[connection signal="button_up" from="Game/Control/WateringCan" to="Game/Control/WateringCan" method="Drop"]
[connection signal="area_entered" from="Game/Control/WateringCan/Water" to="Game/Control/WateringCan" method="PotEnter"]
[connection signal="area_exited" from="Game/Control/WateringCan/Water" to="Game/Control/WateringCan" method="PotExit"]
[connection signal="pressed" from="Pause/Panel/Button" to="." method="TogglePause"]
